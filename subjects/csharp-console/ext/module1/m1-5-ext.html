<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="purple">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validatie (Ext) - C# Module 1</title>

    <script src="../../../../assets/js/theme-init.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
</head>
<body>

<div data-include="../../../../components/header.html"></div>

<div class="layout-wrapper">
    <div data-include="../../../../components/sidebar.html"></div>

    <main class="main-content">
        <h1>Setter & Validatie</h1>

        <p>In de vorige lessen hebben we Properties gemaakt. Dat is handig, maar ook gevaarlijk. Omdat alles <code>public</code> is, kan iedereen er zomaar rare waarden in stoppen.</p>

        <p>Stel je voor dat iemand jouw Digital Pet gebruikt en per ongeluk dit typt:</p>
        <pre><code class="language-csharp">dino.Energy = -5000;</code></pre>
        <p>Een huisdier met negatieve energie? Dat slaat nergens op. Toch accepteert C# dit gewoon, want een <code>int</code> kan prima negatief zijn. Om dit te voorkomen, moeten we controle inbouwen.</p>

        <h3>De Oplossing: Een Setter Methode</h3>
        <p>Omdat we nog niet met verborgen (private) variabelen werken, lossen we dit op met een <strong>Methode</strong>. We spreken met elkaar af: <em>"Als je de energie wilt veranderen, gebruik je deze methode."</em></p>

        <div class="info-box">
            <h3>De Vergelijking: De Nachtclub</h3>
            <p>Als je zomaar de achterdeur open laat staan (de Property), loopt iedereen naar binnen.<br>
                We zetten nu een uitsmijter bij de deur (de Methode). Hij checkt eerst je ID. Ben je oud genoeg (geldige waarde)? Dan mag je naar binnen. Zo niet, dan word je weggestuurd.</p>
        </div>

        <h3>De Code in de Class</h3>
        <p>We voegen een methode toe aan <code>DigitalPet.cs</code>. Deze methode noem je vaak <code>Set...</code>.</p>

        <pre><code class="language-csharp">// BESTAND: DigitalPet.cs
class DigitalPet
{
    // De gewone eigenschappen
    public string Name { get; set; }
    public int Energy { get; set; }

    // 1. De Validatie Methode (De Setter)
    // We vragen om een 'amount' (hoeveelheid)
    public void SetEnergy(int amount)
    {
        // 2. De Controle
        if (amount < 0)
        {
            Console.WriteLine("Foutje! Energie mag niet negatief zijn.");
            Console.WriteLine("We zetten de energie op 0.");
            this.Energy = 0; // We corrigeren de fout
        }
        else if (amount > 100)
        {
             Console.WriteLine("Wow, dat is te veel! Maximaal 100.");
             this.Energy = 100; // We begrenzen het op 100
        }
        else
        {
            // 3. Alles is veilig, sla het op!
            this.Energy = amount;
        }
    }

    public string GetDescription()
    {
        return "Ik ben " + this.Name + " en ik heb " + this.Energy + " energie.";
    }
}</code></pre>

        <h3>Het Gebruik in Program.cs</h3>
        <p>Nu gaan we de methode gebruiken. In plaats van direct de variabele aan te passen met <code>=</code>, roepen we de functie aan.</p>

        <pre><code class="language-csharp">// BESTAND: Program.cs

DigitalPet dino = new DigitalPet();
dino.Name = "Rex";

// FOUTE MANIER (Direct):
// dino.Energy = -50;
// Dit kan technisch nog wel, maar we spreken af dit NIET te doen.

// GOEDE MANIER (Via de methode):
Console.WriteLine("Poging 1: -50 energie");
dino.SetEnergy(-50);
// De methode grijpt in! Energy wordt 0.

Console.WriteLine(dino.GetDescription());
// Output: Ik ben Rex en ik heb 0 energie.

Console.WriteLine("Poging 2: 200 energie");
dino.SetEnergy(200);
// De methode grijpt in! Energy wordt 100.

Console.WriteLine(dino.GetDescription());
// Output: Ik ben Rex en ik heb 100 energie.

Console.ReadLine();</code></pre>

        <h3>Waarom doen we dit?</h3>
        <p>Door een methode te gebruiken tussen de invoer en de opslag, voorkom je dat je game crasht of raar gedrag vertoont. Je beschermt het object tegen ongeldige data.</p>

        <p><em>(In latere modules leren we hoe we de property echt op slot kunnen doen met 'private', zodat je niet meer per ongeluk de foute manier kunt gebruiken.)</em></p>

    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<div data-include="../../../../components/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../../../assets/js/script.js"></script>
</body>
</html>