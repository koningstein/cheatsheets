<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="red">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flash Messages</title>

    <script src="../../../../assets/js/theme-init.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
</head>
<body>

<div data-include="../../../../components/header.html"></div>

<div class="layout-wrapper">
    <div data-include="../../../../components/sidebar.html"></div>

    <main class="main-content">
        <h1>Flash Messages</h1>
        <p>Flash messages zijn tijdelijke sessie-variabelen die slechts één request blijven bestaan. Ze zijn ideaal voor statusmeldingen na een actie (bijvoorbeeld: "Product succesvol aangemaakt").</p>

        <h2>Leeruitkomsten</h2>
        <ul style="margin-bottom: 2rem;">
            <li>Ik begrijp wat flash messages zijn en wanneer ik ze gebruik.</li>
            <li>Ik kan een flash message zetten in de controller.</li>
            <li>Ik kan flash messages weergeven in Blade views.</li>
        </ul>

        <h3 id="message-zetten">1. De Message Zetten (Controller)</h3>
        <p>In je controller gebruik je de <code>with()</code> methode tijdens een redirect.</p>
        <pre><code class="language-php">
public function store(Request $request) {
    // ... opslaan logica ...

    return redirect()->route('projects.index')
        ->with('success', 'Het project is succesvol aangemaakt!');
}
        </code></pre>

        <h3 id="message-tonen">2. De Message Tonen (Blade)</h3>
        <p>In Blade controleren we of de sessie-key bestaat met <code>session()->has()</code> of gewoon <code>session('key')</code>.</p>

        <div class="note-box">Tip: Plaats dit in je Layout bestand (bijv. <code>app.blade.php</code>) zodat het op elke pagina werkt.</div>

        <pre><code class="language-html">
@if (session('success'))
    &lt;div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded
            relative mb-4" role="alert"&gt;
        &lt;strong class="font-bold"&gt;Succes!&lt;/strong&gt;
        &lt;span class="block sm:inline"&gt;{{ session('success') }}&lt;/span&gt;
    &lt;/div&gt;
@endif

@if (session('error'))
    &lt;div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded
            relative mb-4"&gt;
        &lt;strong class="font-bold"&gt;Fout!&lt;/strong&gt;
        &lt;span&gt;{{ session('error') }}&lt;/span&gt;
    &lt;/div&gt;
@endif
        </code></pre>

        <h3 id="flash-component">Flash Component</h3>
        <p>Om je code DRY (Don't Repeat Yourself) te houden, kun je hier een component van maken:</p>
        <pre><code class="language-html">
&lt;!-- resources/views/components/flash.blade.php --&gt;
@if (session()->has('success'))
    &lt;div x-data="{ show: true }" x-show="show"
            x-init="setTimeout(() => show = false, 3000)" class="..."&gt;
        {{ session('success') }}
    &lt;/div&gt;
@endif
        </code></pre>
        <p>Hier gebruiken we <strong>Alpine.js</strong> (<code>x-data</code>) om de melding na 3 seconden automatisch te laten verdwijnen.</p>
    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<div data-include="../../../../components/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../../../assets/js/script.js"></script>
</body>
</html>