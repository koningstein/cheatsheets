<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="red">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CI/CD Basics met GitHub Actions</title>

    <script src="../../../../assets/js/theme-init.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
</head>
<body>

<div data-include="../../../../components/header.html"></div>

<div class="layout-wrapper">
    <div data-include="../../../../components/sidebar.html"></div>

    <main class="main-content">
        <h1>CI/CD Basics met GitHub Actions</h1>
        <p>CI staat voor <strong>Continuous Integration</strong>. Het betekent dat elke wijziging in je code (elke push) automatisch wordt gecontroleerd. Je hoeft niet meer handmatig <code>php artisan test</code> te typen; een server van GitHub doet dit voor je. Als de tests falen, mag je niet mergen.</p>

        <h2>Leeruitkomsten</h2>
        <ul style="margin-bottom: 2rem;">
            <li>Ik begrijp wat CI/CD is en waarom het nuttig is.</li>
            <li>Ik weet wat een workflow file (`.yaml`) is.</li>
            <li>Ik snap de stappen van een standaard Laravel test-pipeline.</li>
        </ul>

        <h3>GitHub Actions</h3>
        <p>GitHub Actions is de standaard CI tool binnen GitHub. Je configureert het door een YAML-bestand in de map <code>.github/workflows</code> te plaatsen.</p>

        <h3>Een simpele Workflow</h3>
        <p>Hier is een voorbeeld van een bestand <code>laravel.yml</code>. Dit script draait elke keer als je pusht naar de main branch of een Pull Request opent.</p>

        <div class="note-box">Bestand: <code>.github/workflows/laravel.yml</code></div>
        <pre><code class="language-yaml">
name: Laravel Tests

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  laravel-tests:
    runs-on: ubuntu-latest

    steps:
    # 1. Haal de code binnen
    - uses: actions/checkout@v4

    # 2. Zet PHP klaar
    - name: Setup PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: '8.3'

    # 3. Installeer dependencies (composer)
    - name: Install Dependencies
      run: composer install -q --no-ansi --no-interaction --no-scripts --no-progress --prefer-dist

    # 4. Maak de .env file
    - name: Copy .env
      run: cp .env.example .env

    # 5. Genereer key
    - name: Generate key
      run: php artisan key:generate

    # 6. Voer de tests uit (Pest / PHPUnit)
    - name: Execute tests
      run: php artisan test
        </code></pre>

        <h3>Het resultaat</h3>
        <p>Als je dit bestand toevoegt en pusht, zie je in GitHub onder het tabblad "Actions" dat er een workflow gaat draaien. Als je een fout maakt in je code waardoor een test faalt, krijg je een rood kruisje bij je Pull Request.</p>

    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<div data-include="../../../../components/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../../../assets/js/script.js"></script>
</body>
</html>