<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="blue">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Interfaces - OOP PHP Module 8</title>

    <script src="../../../../assets/js/theme-init.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
</head>
<body>

<div data-include="../../../../components/header.html"></div>

<div class="layout-wrapper">
    <div data-include="../../../../components/sidebar.html"></div>

    <main class="main-content">
        <h1>Database Interfaces</h1>

        <div class="info-box">
            <h3>Het Contract</h3>
            <p>Voordat we daadwerkelijk verbinding maken met een database, moeten we afspreken <em>wat</em> we precies verwachten van onze database-klasse. Dit doen we met een <strong>Interface</strong>.</p>
            <p>Een Interface bevat alleen de namen van de functies (de handtekeningen), maar <strong>geen code</strong>. Het fungeert als een streng contract: "Als jij een Database wilt zijn, <em>moet</em> je deze functies hebben."</p>
        </div>

        <h3>Waarom een Interface?</h3>
        <p>Stel dat we onze Blackjack-scores nu opslaan in een tekstbestand, maar later willen overstappen naar MySQL. Als onze `Game` code vol staat met specifieke MySQL-commando's, moeten we alles herschrijven.</p>
        <p>Met een Interface praat de `Game` alleen tegen het contract. Het maakt hem niet uit wie het werk doet.</p>



        <h3>De CRUD Interface</h3>
        <p>Voor databases gebruiken we vaak de term <strong>CRUD</strong> (Create, Read, Update, Delete). Dit zijn de vier basisoperaties die elke database moet ondersteunen.</p>

        <pre><code class="language-php">interface Database
{
    // Create: Nieuwe data toevoegen (bijv. een score opslaan)
    // Retourneert het ID van het nieuwe record
    public function insert(string $table, array $data): int;

    // Read: Data ophalen (bijv. de top 10 scores)
    public function select(string $table, array $conditions = []): array;

    // Update: Bestaande data wijzigen
    public function update(string $table, array $data, array $conditions): int;

    // Delete: Data verwijderen
    public function delete(string $table, array $conditions): int;
}</code></pre>

        <h3>Implementatie</h3>
        <p>Nu kunnen we een echte klasse maken die dit contract ondertekent. We gebruiken hiervoor het keyword <code>implements</code>.</p>

        <pre><code class="language-php">class MysqlDatabase implements Database
{
    public function insert(string $table, array $data): int
    {
        // Hier komt de echte MySQL code om data op te slaan
        // ...
        return $lastInsertId;
    }

    // De class MOET ook select, update en delete implementeren,
    // anders geeft PHP een Fatal Error.
    public function select(string $table, array $conditions = []): array { ... }
    public function update(string $table, array $data, array $conditions): int { ... }
    public function delete(string $table, array $conditions): int { ... }
}</code></pre>

        <div class="info-box">
            <h3>Samenvatting</h3>
            <ul>
                <li><strong>Interface:</strong> Een lijst met methoden zonder inhoud. Definieert "wat" er moet gebeuren.</li>
                <li><strong>Implements:</strong> De belofte van een Class om zich aan het contract te houden. Definieert "hoe" het gebeurt.</li>
                <li><strong>Flexibiliteit:</strong> Dankzij interfaces kun je makkelijk wisselen van database-systeem zonder je game-logica te breken.</li>
            </ul>
        </div>

    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<div data-include="../../../../components/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../../../assets/js/script.js"></script>
</body>
</html>