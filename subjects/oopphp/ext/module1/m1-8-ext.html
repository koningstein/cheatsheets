<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="blue">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructor Promoted Properties (Uitgebreid) - OOP PHP Module 1</title>

    <script src="../../../../assets/js/theme-init.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
</head>
<body>

<div data-include="../../../../components/header.html"></div>

<div class="layout-wrapper">
    <div data-include="../../../../components/sidebar.html"></div>

    <main class="main-content">
        <h1>Promoted Properties: Minder Typen</h1>

        <p>In de vorige les over de <strong>Constructor</strong> heb je gezien hoe handig het is om een object direct bij het maken te vullen. Maar misschien viel je iets op: je moet best veel dubbel typen.</p>
        <p>Programmeurs zijn van nature een beetje lui (op een goede manier!). Als we drie keer hetzelfde moeten typen, zoeken we naar een snellere manier. Sinds PHP 8.0 bestaat die manier: <strong>Constructor Promoted Properties</strong>.</p>

        <h3>Het probleem: De Drie-Dubbele Boekhouding</h3>
        <p>Laten we eerst kijken naar de "oude" manier (zoals het was vóór PHP 8). Kijk eens goed naar de variabele <code>$suit</code>. Hoe vaak moeten we dat woord typen om het in het object te krijgen?</p>

        <pre><code class="language-php">class Card
{
    // 1. Eerst hier de property aanmaken
    public $suit;
    public $value;

    // 2. Dan hier de parameter noemen
    public function __construct($suit, $value)
    {
        // 3. En dan hier de waarde overzetten
        $this->suit = $suit;
        $this->value = $value;
    }
}</code></pre>

        <p>Zie je dat? Je schrijft drie keer hetzelfde: bovenin, in de haakjes, en in de functie zelf. Dat voelt als tijdverspilling en het maakt je code onnodig lang.</p>



        <h3>De Oplossing: Alles in één keer</h3>
        <p>Met <strong>Constructor Promoted Properties</strong> mag je stap 1, 2 en 3 combineren. Je doet alles direct tussen de haakjes van de constructor.</p>

        <div class="info-box">
            <h3>De Vergelijking: Het Inschrijfformulier</h3>
            <ul>
                <li><strong>Oude manier (Drie-dubbel):</strong> Je vult je naam in op een formulier. De receptionist leest het hardop voor. Daarna typt de receptionist het over in de computer.</li>
                <li><strong>Nieuwe manier (De Scanner):</strong> Je geeft je ID-kaart af. De receptionist haalt hem door de scanner en <em>bliep</em>: je staat direct in het systeem.</li>
            </ul>
        </div>

        <h3>Hoe ziet dat eruit?</h3>
        <p>Hier is dezelfde <code>Card</code> class, maar dan op de nieuwe, snelle manier:</p>

        <pre><code class="language-php">class Card
{
    // Let op: Geen properties meer bovenaan!
    // De constructor doet nu alles.

    public function __construct(
        public $suit,  // &lt;-- Het woord 'public' staat nu HIER
        public $value
    ) {
        // De body van de functie (tussen de accolades) is leeg!
        // PHP regelt de rest op de achtergrond.
    }
}</code></pre>

        <h3>Het grote geheim: Het toverwoord 'public'</h3>
        <p>Hoe weet PHP het verschil tussen een "gewone" parameter en deze nieuwe truc?</p>
        <p>Het geheim zit hem in het woord <code>public</code> (of <code>private</code> / <code>protected</code>) <strong>binnen de haakjes</strong>.</p>
        <ul>
            <li><code>__construct($suit)</code>: Dit is een normale variabele. PHP doet er niks speciaals mee.</li>
            <li><code>__construct(public $suit)</code>: Dit is de schakelaar. PHP denkt nu: <em>"Hé, je zet er 'public' voor. Dan wil je vast dat ik automatisch een property aanmaak én de waarde erin stop."</em></li>
        </ul>



        <h3>Stap voor Stap: Een Player Class</h3>
        <p>Laten we een voorbeeld maken met een speler in Blackjack. We willen de naam en het startgeld instellen.</p>

        <h4>1. De Class (De Blauwdruk)</h4>
        <p>Hier zie je hoe kort de code is. We geven <code>$balance</code> ook meteen een standaardwaarde van 100.</p>

        <pre><code class="language-php">&lt;?php

class Player
{
    // De constructor maakt de properties aan én vult ze.
    public function __construct(
        public $name,
        public $balance = 100
    ) {}

    // Een methode om de gegevens als tekst terug te geven
    public function getStats()
    {
        // We kunnen de properties gewoon gebruiken met $this
        return "{$this->name} heeft €{$this->balance},-";
    }
}</code></pre>

        <h4>2. Het Gebruik (index.php)</h4>
        <p>Het aanmaken van het object werkt precies hetzelfde als eerst. De "buitenkant" is niet veranderd, alleen de "binnenkant" (de class) is netter geworden.</p>

        <pre><code class="language-php">// We maken een nieuwe speler (Sjaak, met 500 euro)
$player1 = new Player("Sjaak", 500);

// We vragen de stats op en tonen ze
echo $player1->getStats();
// Output: Sjaak heeft €500,-</code></pre>

        <h3>Wanneer gebruik je dit NIET?</h3>
        <p>Deze korte schrijfwijze is fantastisch voor simpele data-objecten. Maar soms is de oude manier beter.</p>
        <p>Stel dat je <strong>validatie</strong> nodig hebt. Bijvoorbeeld: je wilt controleren of de punten niet negatief zijn. Dat past niet in die ene regel.</p>

        <pre><code class="language-php">// Hier werkt Promoted Properties minder goed
class Score {
    public $points;

    public function __construct($points)
    {
        // We willen logica uitvoeren VOORDAT we het opslaan
        if ($points < 0) {
            $points = 0;
        }
        $this->points = $points;
    }
}</code></pre>
        <p>In ingewikkelde gevallen kiezen programmeurs er vaak voor om de oude manier te gebruiken, zodat er ruimte is voor extra code.</p>

        <h3>Wat kan er fout gaan? (Veelgemaakte Fouten)</h3>

        <div class="info-box warning">
            <h3>⚠️ Vergeet 'public' niet!</h3>
            <p>Dit is de meest gemaakte fout:</p>
            <p><code>public function __construct($name) { }</code></p>
            <p>Omdat <code>public</code> ontbreekt, maakt PHP <strong>geen</strong> property aan. De variabele <code>$name</code> bestaat alleen heel even tijdens het aanmaken en wordt daarna direct weggegooid. Je object is dan leeg. Zorg dus altijd dat er <code>public</code>, <code>private</code> of <code>protected</code> voor staat.</p>
        </div>

        <div class="info-box warning">
            <h3>⚠️ Oude PHP versie</h3>
            <p>Deze techniek werkt pas vanaf <strong>PHP 8.0</strong>. Als je op een oude server werkt, krijg je een foutmelding ("Syntax Error").</p>
        </div>

        <h3>Samenvatting</h3>
        <ul>
            <li><strong>Promoted Properties</strong> besparen typwerk en maken je code schoner.</li>
            <li>Je zet de visibility (<code>public</code>) <strong>in</strong> de haakjes van de constructor.</li>
            <li>De "body" (de code tussen <code>{}</code>) van de constructor blijft vaak leeg.</li>
        </ul>

    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<div data-include="../../../../components/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../../../assets/js/script.js"></script>
</body>
</html>