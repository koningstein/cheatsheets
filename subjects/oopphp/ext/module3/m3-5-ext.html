<!DOCTYPE html>
<html lang="nl" data-theme="light" data-color="blue">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Properties (Uitgebreid) - OOP PHP Module 3</title>

    <script src="../../../../assets/js/theme-init.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="../../../../assets/css/style.css">
</head>
<body>

<div data-include="../../../../components/header.html"></div>

<div class="layout-wrapper">
    <div data-include="../../../../components/sidebar.html"></div>

    <main class="main-content">
        <h1>Private Properties: De Kluis</h1>

        <p>In de vorige modules hebben we eigenschappen (properties) altijd <code>public</code> gemaakt. Dat is lekker makkelijk, want dan kun je er vanuit je hele applicatie bij. Maar in het echte leven is niet alles openbaar. Je pincode, je dagboek of de inhoud van je kluis zijn privé.</p>
        <p>In programmeren is dat net zo. Soms wil je data beschermen zodat niemand er per ongeluk (of expres) mee kan rommelen. Daarvoor gebruiken we het woord <code>private</code>.</p>

        <h3>Public vs. Private</h3>
        <p>Dit noemen we de <strong>Zichtbaarheid</strong> (Visibility) van je code.</p>
        <ul>
            <li><strong>Public (Openbaar):</strong> Iedereen mag de waarde zien én veranderen. De voordeur staat wagenwijd open.</li>
            <li><strong>Private (Privé):</strong> Alleen de class zélf mag bij de data. De deur zit op slot en alleen het object zelf heeft de sleutel.</li>
        </ul>



        <h3>Het Probleem: Valsspelen in Blackjack</h3>
        <p>Stel je voor dat we de score van een speler bijhouden in een simpele class. Als we dit <code>public</code> maken, kan iedereen de score aanpassen. Een onhandige programmeur kan per ongeluk een typefout maken, of een hacker kan valsspelen.</p>

        <h4>De onveilige situatie (Public)</h4>
        <pre><code class="language-php">class Player
{
    // Iedereen mag hierbij... gevaarlijk!
    public int $score = 0;
}</code></pre>

        <pre><code class="language-php">// index.php
$player = new Player();

// Omdat het public is, mag dit gewoon:
$player->score = 1000; // Valsspelen!
$player->score = -50;  // Fout! Een score kan niet negatief zijn.</code></pre>

        <p>Dit willen we voorkomen. We willen controle hebben over wat er met de score gebeurt.</p>

        <h3>De Oplossing: Encapsulatie (Inkapseling)</h3>
        <p>We gaan de data beschermen door de property <code>private</code> te maken. Dit noemen we met een duur woord <strong>Encapsulatie</strong>.</p>

        <div class="info-box">
            <h3>De Vergelijking: De Auto</h3>
            <p>Denk aan een auto. De motor is het belangrijkste onderdeel.</p>
            <ul>
                <li>Je kunt de motor niet zomaar aanraken tijdens het rijden (hij is <strong>private</strong> / afgeschermd onder de motorkap).</li>
                <li>Je gebruikt pedalen en een stuur om de auto te besturen (de <strong>public</strong> methodes).</li>
            </ul>
            <p>Als je direct benzine in de cilinders zou gieten tijdens het rijden, gaat de auto stuk. Door de motorkap dicht te laten (private) en alleen de pedalen te gebruiken (public), blijft de auto veilig werken.</p>
        </div>



        <h3>De Poortwachters: Getters en Setters</h3>
        <p>Als we een variabele <code>private</code> maken, kan niemand er meer bij. Ook wijzelf niet in <code>index.php</code>. Dat is te streng.</p>
        <p>Daarom bouwen we twee speciale methodes die wél <code>public</code> zijn. Zij fungeren als de beveiliging:</p>
        <ol>
            <li><strong>De Setter (De Bewaker):</strong> Hiermee kun je de waarde aanpassen, maar alleen als je je aan de regels houdt.</li>
            <li><strong>De Getter (De Etalage):</strong> Hiermee kun je de waarde bekijken, maar niet aanraken.</li>
        </ol>

        <h3>Stap voor Stap: De Veilige Player Class</h3>
        <p>Hieronder zie je hoe we de Class opbouwen. Let op: de methodes geven nu antwoord (`return`) in plaats van dat ze zelf schreeuwen (`echo`).</p>

        <h4>De Class (Player.php)</h4>
        <pre><code class="language-php">&lt;?php

class Player
{
    // 1. We zetten de score op slot (Private)
    private int $score = 0;

    // 2. De Getter: Alleen kijken, niet aankomen
    public function getScore(): int
    {
        return $this->score;
    }

    // 3. De Setter: De strenge bewaker
    public function setScore(int $newScore): string
    {
        // REGEL 1: Score mag niet negatief zijn
        if ($newScore < 0) {
            return "FOUT: Score mag niet negatief zijn!";
        }

        // REGEL 2: Score mag niet belachelijk hoog zijn
        if ($newScore > 30) {
            return "FOUT: Dat is wel erg veel punten voor Blackjack...";
        }

        // Als alles klopt, passen we de private variabele aan
        $this->score = $newScore;

        return "SUCCES: Score is aangepast naar $newScore.";
    }
}</code></pre>

        <h3>Het Gebruik (index.php)</h3>
        <p>Nu gaan we de class gebruiken. Je zult zien dat we niet meer direct bij <code>$score</code> kunnen, maar alles via de functies moeten doen.</p>

        <h4>Het Gebruik (index.php)</h4>
        <pre><code class="language-php">// We maken de speler
$player = new Player();

// POGING 1: Direct aanpassen (Dit werkt niet meer!)
// $player->score = 100;
// Resultaat: Fatal Error: Cannot access private property


// POGING 2: Via de Setter (Foute waarde)
// De class voert de check uit en geeft een foutmelding terug
$resultaat = $player->setScore(-50);
echo $resultaat;
// Output: "FOUT: Score mag niet negatief zijn!"

echo "&lt;br&gt;";


// POGING 3: Via de Setter (Goede waarde)
$resultaat = $player->setScore(21);
echo $resultaat;
// Output: "SUCCES: Score is aangepast naar 21."

echo "&lt;br&gt;";


// POGING 4: De score bekijken
// We gebruiken de getter om de waarde op te halen
echo "Huidige score: " . $player->getScore();
// Output: "Huidige score: 21"</code></pre>

        <div class="info-box">
            <h3>Waarom Return en geen Echo?</h3>
            <p>Je ziet dat de <code>setScore</code> functie een tekst teruggeeft met <code>return</code>. Waarom doen we geen <code>echo</code> in de class?</p>
            <p>Stel dat je dit spel later ombouwt naar een mobiele app. Dan wil je geen tekst op het scherm printen, maar misschien een rode pop-up tonen. Door de tekst te <strong>returnen</strong>, mag de programmeur in <code>index.php</code> zelf bepalen of hij het echo't, in een logbestand zet, of in een rode balk toont. Dat maakt je class veel flexibeler.</p>
        </div>

        <h3>Samenvatting</h3>
        <ul>
            <li><strong>Private:</strong> Beschermt variabelen tegen directe toegang. Alleen de Class zelf mag erbij.</li>
            <li><strong>Encapsulatie:</strong> Het principe van data verbergen en beschermen (zoals een motorkap).</li>
            <li><strong>Setter:</strong> Een publieke functie om data veilig aan te passen (met regels/validatie).</li>
            <li><strong>Getter:</strong> Een publieke functie om data veilig uit te lezen.</li>
        </ul>

    </main>

    <aside class="sidebar-right">
        <div class="toc-container">
            <h4>Inhoud</h4>
            <ul id="toc-list" class="toc-list">
            </ul>
        </div>
    </aside>
</div>

<div data-include="../../../../components/footer.html"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="../../../../assets/js/script.js"></script>
</body>
</html>